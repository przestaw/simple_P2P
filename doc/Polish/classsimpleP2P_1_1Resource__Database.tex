\hypertarget{classsimpleP2P_1_1Resource__Database}{}\section{simple\+P2P\+:\+:Resource\+\_\+\+Database Class Reference}
\label{classsimpleP2P_1_1Resource__Database}\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}


Class holding information about files in network and on localhost.  




{\ttfamily \#include $<$resource\+\_\+database.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsimpleP2P_1_1Resource__Database_a0158b1b1c4583d60534c2bea5dc437a3}{Resource\+\_\+\+Database} (\hyperlink{classsimpleP2P_1_1Host}{Host} localhost)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
bool \hyperlink{classsimpleP2P_1_1Resource__Database_a2a6cd0b6da11176aec9ef7f218ac1c62}{has\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res)
\begin{DoxyCompactList}\small\item\em Check if localhost has certain file. \end{DoxyCompactList}\item 
void \hyperlink{classsimpleP2P_1_1Resource__Database_a7afdd297b15fb225b61f9d52e2ab9cc6}{add\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res, const \hyperlink{classsimpleP2P_1_1Host}{Host} \&host)
\begin{DoxyCompactList}\small\item\em Adds connection between file and resource, adn creates them if they do not exist. \end{DoxyCompactList}\item 
bool \hyperlink{classsimpleP2P_1_1Resource__Database_a9b0fe1012eba333db6d8e99b02764d4d}{remove\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res, const \hyperlink{classsimpleP2P_1_1Host}{Host} \&host)
\begin{DoxyCompactList}\small\item\em Removes connection between file and resource. \end{DoxyCompactList}\item 
void \hyperlink{classsimpleP2P_1_1Resource__Database_a181e862da4be11acbdb7d5569ad6925a}{update\+\_\+host} (const \hyperlink{classsimpleP2P_1_1Host}{Host} \&host)
\begin{DoxyCompactList}\small\item\em Updates the list of resources aviable from host Triggered after receive of full Beacon Packet. \end{DoxyCompactList}\item 
void \hyperlink{classsimpleP2P_1_1Resource__Database_a7ea91d496814c3d911b14ef4cd863943}{revoke\+\_\+resource} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&resource)
\begin{DoxyCompactList}\small\item\em Revokes resource and disconnects it from Hosts in database and database itself \hyperlink{classsimpleP2P_1_1Resource}{Resource} will still point to Hosts that possess it. \end{DoxyCompactList}\item 
void \hyperlink{classsimpleP2P_1_1Resource__Database_a8ac7f42f7de6f3281974d2be7f1ea8e8}{add\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res)
\begin{DoxyCompactList}\small\item\em same as add\+\_\+file(\+Resource, Host) but host is localhost \end{DoxyCompactList}\item 
bool \hyperlink{classsimpleP2P_1_1Resource__Database_aa7e7b4575b8217dc3e52fb741ff0474a}{remove\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res)
\begin{DoxyCompactList}\small\item\em same as remove\+\_\+file(\+Resource, Host) but host is localhost \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Resource}{Resource} $>$ \hyperlink{classsimpleP2P_1_1Resource__Database_ac1914413c36b5b1cf343aac6e9ba7a6f}{who\+\_\+has\+\_\+file} (std\+::vector$<$ Uint8 $>$ resource\+\_\+header)
\begin{DoxyCompactList}\small\item\em Returns shared pointer to resource to allow access to information about file owners. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Resource}{Resource} $>$ \hyperlink{classsimpleP2P_1_1Resource__Database_a70aa9503db5700a6abdfdc9b029d71c1}{who\+\_\+has\+\_\+file} (const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&res)
\begin{DoxyCompactList}\small\item\em Returns shared pointer to resource to allow access to information about file owners. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::vector$<$ Uint8 $>$ $>$ \hyperlink{classsimpleP2P_1_1Resource__Database_a77b35fd391868164073005ffbd0377ae}{generate\+\_\+database\+\_\+headers} ()
\begin{DoxyCompactList}\small\item\em Generates listing of localhost content in a header. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Host}{Host} $>$ \hyperlink{classsimpleP2P_1_1Resource__Database_a3d3e448f6b0502129e68d42214e1a059}{get\+Host} () const
\begin{DoxyCompactList}\small\item\em Get localhost information. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a97b8e423121d50cf2593ccd4cfef4ca9}\label{classsimpleP2P_1_1Resource__Database_a97b8e423121d50cf2593ccd4cfef4ca9}} 
const std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Resource}{Resource} $>$ $>$ {\bfseries get\+Resources} () const
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class holding information about files in network and on localhost. 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a0158b1b1c4583d60534c2bea5dc437a3}\label{classsimpleP2P_1_1Resource__Database_a0158b1b1c4583d60534c2bea5dc437a3}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!Resource\+\_\+\+Database@{Resource\+\_\+\+Database}}
\index{Resource\+\_\+\+Database@{Resource\+\_\+\+Database}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{Resource\+\_\+\+Database()}{Resource\_Database()}}
{\footnotesize\ttfamily simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::\+Resource\+\_\+\+Database (\begin{DoxyParamCaption}\item[{\hyperlink{classsimpleP2P_1_1Host}{Host}}]{localhost }\end{DoxyParamCaption})}



Constructor. 


\begin{DoxyParams}{Parameters}
{\em localhost} & localhost \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a7afdd297b15fb225b61f9d52e2ab9cc6}\label{classsimpleP2P_1_1Resource__Database_a7afdd297b15fb225b61f9d52e2ab9cc6}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!add\+\_\+file@{add\+\_\+file}}
\index{add\+\_\+file@{add\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{add\+\_\+file()}{add\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::add\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res,  }\item[{const \hyperlink{classsimpleP2P_1_1Host}{Host} \&}]{host }\end{DoxyParamCaption})}



Adds connection between file and resource, adn creates them if they do not exist. 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be added \\
\hline
{\em host} & \hyperlink{classsimpleP2P_1_1Host}{Host} which possess \hyperlink{classsimpleP2P_1_1Resource}{Resource} res \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a8ac7f42f7de6f3281974d2be7f1ea8e8}\label{classsimpleP2P_1_1Resource__Database_a8ac7f42f7de6f3281974d2be7f1ea8e8}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!add\+\_\+file@{add\+\_\+file}}
\index{add\+\_\+file@{add\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{add\+\_\+file()}{add\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::add\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res }\end{DoxyParamCaption})}



same as add\+\_\+file(\+Resource, Host) but host is localhost 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be added \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a77b35fd391868164073005ffbd0377ae}\label{classsimpleP2P_1_1Resource__Database_a77b35fd391868164073005ffbd0377ae}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!generate\+\_\+database\+\_\+headers@{generate\+\_\+database\+\_\+headers}}
\index{generate\+\_\+database\+\_\+headers@{generate\+\_\+database\+\_\+headers}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{generate\+\_\+database\+\_\+headers()}{generate\_database\_headers()}}
{\footnotesize\ttfamily std\+::vector$<$ std\+::vector$<$ Uint8 $>$ $>$ simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::generate\+\_\+database\+\_\+headers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Generates listing of localhost content in a header. 

\begin{DoxyReturn}{Returns}
listing header of localhost resources 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a3d3e448f6b0502129e68d42214e1a059}\label{classsimpleP2P_1_1Resource__Database_a3d3e448f6b0502129e68d42214e1a059}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!get\+Host@{get\+Host}}
\index{get\+Host@{get\+Host}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{get\+Host()}{getHost()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Host}{Host} $>$ simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::get\+Host (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get localhost information. 

\begin{DoxyReturn}{Returns}
localhost 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a2a6cd0b6da11176aec9ef7f218ac1c62}\label{classsimpleP2P_1_1Resource__Database_a2a6cd0b6da11176aec9ef7f218ac1c62}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!has\+\_\+file@{has\+\_\+file}}
\index{has\+\_\+file@{has\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{has\+\_\+file()}{has\_file()}}
{\footnotesize\ttfamily bool simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::has\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res }\end{DoxyParamCaption})}



Check if localhost has certain file. 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be checked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if host already has some resource 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a9b0fe1012eba333db6d8e99b02764d4d}\label{classsimpleP2P_1_1Resource__Database_a9b0fe1012eba333db6d8e99b02764d4d}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!remove\+\_\+file@{remove\+\_\+file}}
\index{remove\+\_\+file@{remove\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{remove\+\_\+file()}{remove\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::remove\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res,  }\item[{const \hyperlink{classsimpleP2P_1_1Host}{Host} \&}]{host }\end{DoxyParamCaption})}



Removes connection between file and resource. 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be removed from host list \\
\hline
{\em host} & \hyperlink{classsimpleP2P_1_1Host}{Host} which resource will be removed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns false if file did not existed or was not possesed 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_aa7e7b4575b8217dc3e52fb741ff0474a}\label{classsimpleP2P_1_1Resource__Database_aa7e7b4575b8217dc3e52fb741ff0474a}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!remove\+\_\+file@{remove\+\_\+file}}
\index{remove\+\_\+file@{remove\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{remove\+\_\+file()}{remove\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::remove\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res }\end{DoxyParamCaption})}



same as remove\+\_\+file(\+Resource, Host) but host is localhost 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be removed from localhost list \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
returns false if file did not existed or was not possesed 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a7ea91d496814c3d911b14ef4cd863943}\label{classsimpleP2P_1_1Resource__Database_a7ea91d496814c3d911b14ef4cd863943}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!revoke\+\_\+resource@{revoke\+\_\+resource}}
\index{revoke\+\_\+resource@{revoke\+\_\+resource}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{revoke\+\_\+resource()}{revoke\_resource()}}
{\footnotesize\ttfamily void simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::revoke\+\_\+resource (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{resource }\end{DoxyParamCaption})}



Revokes resource and disconnects it from Hosts in database and database itself \hyperlink{classsimpleP2P_1_1Resource}{Resource} will still point to Hosts that possess it. 


\begin{DoxyParams}{Parameters}
{\em resource} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} to be revoked \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a181e862da4be11acbdb7d5569ad6925a}\label{classsimpleP2P_1_1Resource__Database_a181e862da4be11acbdb7d5569ad6925a}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!update\+\_\+host@{update\+\_\+host}}
\index{update\+\_\+host@{update\+\_\+host}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{update\+\_\+host()}{update\_host()}}
{\footnotesize\ttfamily void simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::update\+\_\+host (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Host}{Host} \&}]{host }\end{DoxyParamCaption})}



Updates the list of resources aviable from host Triggered after receive of full Beacon Packet. 


\begin{DoxyParams}{Parameters}
{\em host} & \hyperlink{classsimpleP2P_1_1Host}{Host} and possesed resources in a struct \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_ac1914413c36b5b1cf343aac6e9ba7a6f}\label{classsimpleP2P_1_1Resource__Database_ac1914413c36b5b1cf343aac6e9ba7a6f}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!who\+\_\+has\+\_\+file@{who\+\_\+has\+\_\+file}}
\index{who\+\_\+has\+\_\+file@{who\+\_\+has\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{who\+\_\+has\+\_\+file()}{who\_has\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Resource}{Resource} $>$ simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::who\+\_\+has\+\_\+file (\begin{DoxyParamCaption}\item[{std\+::vector$<$ Uint8 $>$}]{resource\+\_\+header }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Returns shared pointer to resource to allow access to information about file owners. 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} about which information is gathered \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
shared pointer to res 
\end{DoxyReturn}
\mbox{\Hypertarget{classsimpleP2P_1_1Resource__Database_a70aa9503db5700a6abdfdc9b029d71c1}\label{classsimpleP2P_1_1Resource__Database_a70aa9503db5700a6abdfdc9b029d71c1}} 
\index{simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}!who\+\_\+has\+\_\+file@{who\+\_\+has\+\_\+file}}
\index{who\+\_\+has\+\_\+file@{who\+\_\+has\+\_\+file}!simple\+P2\+P\+::\+Resource\+\_\+\+Database@{simple\+P2\+P\+::\+Resource\+\_\+\+Database}}
\subsubsection{\texorpdfstring{who\+\_\+has\+\_\+file()}{who\_has\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily shared\+\_\+ptr$<$ \hyperlink{classsimpleP2P_1_1Resource}{Resource} $>$ simple\+P2\+P\+::\+Resource\+\_\+\+Database\+::who\+\_\+has\+\_\+file (\begin{DoxyParamCaption}\item[{const \hyperlink{classsimpleP2P_1_1Resource}{Resource} \&}]{res }\end{DoxyParamCaption})}



Returns shared pointer to resource to allow access to information about file owners. 


\begin{DoxyParams}{Parameters}
{\em res} & \hyperlink{classsimpleP2P_1_1Resource}{Resource} about which information is gathered \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
shared pointer to res 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/resource\+\_\+database.\+h\item 
src/resource\+\_\+database.\+cpp\end{DoxyCompactItemize}
